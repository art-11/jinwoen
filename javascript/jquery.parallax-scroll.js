var h_width=parseInt($(document).width(),10);if(640<h_width){$(function(){ParallaxScroll.init()});var ParallaxScroll={showLogs:!1,round:1e3,init:function(){if(this._log("init"),this._inited)return this._log("Already Inited"),void(this._inited=!0);this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,t){window.setTimeout(a,1e3/60)},this._onScroll(!0)},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(a){this.showLogs&&console.log("Parallax Scroll / "+a)},_onScroll:function(X){var Y=$(document).scrollTop(),Z=$(window).height();this._log("onScroll "+Y),$("[data-parallax]").each($.proxy(function(a,t){var i=$(t),o=[],c=!1,e=i.data("style");null==e&&(e=i.attr("style")||"",i.data("style",e));var l,n=[i.data("parallax")];for(l=2;i.data("parallax"+l);l++)n.push(i.data("parallax-"+l));var s=n.length;for(l=0;l<s;l++){var u=n[l],d=u["from-scroll"];null==d&&(d=Math.max(0,$(t).offset().top-Z)),d|=0;var r=u.distance,h=u["to-scroll"];null==r&&null==h&&(r=Z),r=Math.max(0|r,1);var m=u.easing,p=u["easing-return"];if(null!=m&&$.easing&&$.easing[m]||(m=null),null!=p&&$.easing&&$.easing[p]||(p=m),m){var w=u.duration;null==w&&(w=r),w=Math.max(0|w,1);var v=u["duration-return"];null==v&&(v=w),r=1;var x=i.data("current-time");null==x&&(x=0)}null==h&&(h=d+r),h|=0;var g=u.smoothness;null==g&&(g=30),g|=0,!X&&0!=g||(g=1),g|=0;var f=Y;f=Math.max(f,d),f=Math.min(f,h),m&&(null==i.data("sens")&&i.data("sens","back"),d<f&&("back"==i.data("sens")?(x=1,i.data("sens","go")):x++),f<h&&("go"==i.data("sens")?(x=1,i.data("sens","back")):x++),X&&(x=w),i.data("current-time",x)),this._properties.map($.proxy(function(a){var t=0,e=u[a];if(null!=e){"scale"==a||"scaleX"==a||"scaleY"==a||"scaleZ"==a?t=1:e|=0;var l=i.data("_"+a);null==l&&(l=t);var n=(f-d)/(h-d)*(e-t)+t,s=l+(n-l)/g;if(m&&0<x&&x<=w){var r=t;"back"==i.data("sens")&&(e=-(r=e),m=p,w=v),s=$.easing[m](null,x,r,e,w)}(s=Math.ceil(s*this.round)/this.round)==l&&n==e&&(s=e),o[a]||(o[a]=0),o[a]+=s,l!=o[a]&&(i.data("_"+a,o[a]),c=!0)}},this))}if(c){if(null!=o.z){var _=u.perspective;null==_&&(_=800);var y=i.parent();y.data("style")||y.data("style",y.attr("style")||""),y.attr("style","perspective:"+_+"px; -webkit-perspective:"+_+"px; "+y.data("style"))}null==o.scaleX&&(o.scaleX=1),null==o.scaleY&&(o.scaleY=1),null==o.scaleZ&&(o.scaleZ=1),null!=o.scale&&(o.scaleX*=o.scale,o.scaleY*=o.scale,o.scaleZ*=o.scale);var A="translate3d("+(o.x?o.x:0)+"px, "+(o.y?o.y:0)+"px, "+(o.z?o.z:0)+"px)"+" "+("rotateX("+(o.rotateX?o.rotateX:0)+"deg) rotateY("+(o.rotateY?o.rotateY:0)+"deg) rotateZ("+(o.rotateZ?o.rotateZ:0)+"deg)")+" "+("scaleX("+o.scaleX+") scaleY("+o.scaleY+") scaleZ("+o.scaleZ+")")+";";this._log(A),i.attr("style","transform:"+A+" -webkit-transform:"+A+" "+e)}},this)),window.requestAnimationFrame?window.requestAnimationFrame($.proxy(this._onScroll,this,!1)):this._requestAnimationFrame($.proxy(this._onScroll,this,!1))}}}
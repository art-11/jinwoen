!function(c,h){"use strict";var d=h.console||{log:c.noop,warn:c.noop},g="harmonia",s={currentPage:!1,optionDefault:"Choose ...",openTab:!1,classSelect:g+"-select",classInit:g+"-js-enabled",use:"",idSelect:"",elementTarget:"",onInit:c.noop,onAfterInit:c.noop,onAddOption:c.noop,onChange:c.noop},e={init:function(a){return this.each(function(){var t,e=c(this),n=e.data(g);n||(t=c.extend(!0,{},s,c.fn[g].defaults,a,e.data(g+"Options")),e.data(g,{init:!1,settings:t,target:e,matched:!1,lis:e.children("li"),select:c("<select>",{class:t.classSelect}),element:t.elementTarget?c(t.elementTarget):"",use:t.use&&/^(?:after|append|before|html|prepend|text)$/.test(t.use)?t.use:"before"}),n=e.data(g)),n.init?d.warn("jQuery.%s thinks it's already initialized on %o.",g,this):i.call(e,n)})},destroy:function(){return this.each(function(){var t=c(this),e=t.data(g);e&&(t.removeClass(e.settings.classInit),e.select.remove(),t.removeData(g))})}},i=function(s){void 0===s&&(s=this.data(g)),s&&(s.init=!0,s.settings.onInit.call(s.target,s),s.lis.length?(s.target.addClass(s.settings.classInit),s.settings.idSelect.length&&s.select.attr("id",s.settings.idSelect),s.settings.optionDefault&&o.call(s.target,c("<a>"),s.settings.optionDefault).appendTo(s.select),s.lis.each(function(){var t,e,n=c(this),a=n.children();a.filter("ul, ol").length?(t=a.find("li")).length&&(e=c("<optgroup>",{label:a.first().text()}).appendTo(s.select),t.each(function(){l.call(s.target,c(this),e)})):l.call(s.target,n,s.select)}),t.call(s.target),s.element.length?s.element[s.use](s.select):s.target[s.use](s.select),s.settings.onAfterInit.call(s.target,s)):d.warn("jQuery.%s thinks there's a problem with your markup.",g))},l=function(t,e){var n,a=this.data(g),s=t.children("a");s.length?(n=o.call(a.target,s)).length&&n.appendTo(e):d.warn("jQuery.%s can't find child hrefs for %o's %o.",g,this,t)},o=function(t,e){var n,a,s,i,l,o="",r=this.data(g);return r&&((e=void 0!==e&&e.length?e:u.call(t)).length?(n=c("<option>"),a=!1,(s=t.attr("href")||"")&&"#"!=s&&(r.matched||(t.hasClass("selected")?a=!0:r.settings.currentPage&&((i=h.location.href.toLowerCase())!=(l=s.toLowerCase())&&-1==i.indexOf(l)||(a=!0)),a&&(n.attr("selected","selected"),r.matched=!0)),n.attr("value",s)),o=n.text(c.trim(e))):d.warn("jQuery.%s thinks there's no text for %o.",g,this)),r.settings.onAddOption.call(r.target,r,o),o},u=function(){return this.length?this.clone().children().remove().end().text():""},t=function(){var n=this.data(g);n.select.change(function(){var t,e=c(this);n.settings.onChange.call(n.target,n,e),(t=e.val())&&"#"!==t&&t!==n.settings.optionDefault&&(n.settings.openTab?h.open(t):h.location=t)})};c.fn[g]=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void c.error("jQuery.%s thinks that %s doesn't exist",g,t):e.init.apply(this,arguments)},c.fn[g].defaults=s}(jQuery,window);
var ddaccordion={ajaxloadingmsg:'<img src="loading2.gif" /><br />Loading Content...',headergroup:{},contentgroup:{},preloadimages:function(e){e.each(function(){(new Image).src=this.src})},expandone:function(e,t,a){this.toggleone(e,t,"expand",a)},collapseone:function(e,t){this.toggleone(e,t,"collapse")},expandall:function(e){var t=this.headergroup[e];this.contentgroup[e].filter(":hidden").each(function(){t.eq(parseInt($(this).attr("contentindex"))).trigger("evt_accordion")})},collapseall:function(e){var t=this.headergroup[e];this.contentgroup[e].filter(":visible").each(function(){t.eq(parseInt($(this).attr("contentindex"))).trigger("evt_accordion")})},toggleone:function(e,t,a,n){var o=this.headergroup[e].eq(t),i=this.contentgroup[e].eq(t);(void 0===a||"expand"==a&&i.is(":hidden")||"collapse"==a&&i.is(":visible"))&&o.trigger("evt_accordion",[!1,n])},ajaxloadcontent:function(e,t,a,n){var o=e.data("ajaxinfo");function i(e){e&&(o.cacheddata=e,o.status="cached",0==t.queue("fx").length&&(t.hide().html(e),o.status="complete",n())),"complete"!=o.status&&setTimeout(function(){i(o.cacheddata)},100)}"none"==o.status?(t.html(this.ajaxloadingmsg),t.slideDown(a.animatespeed),o.status="loading",$.ajax({url:o.url,error:function(e){i("Error fetching content. Server Response: "+e.responseText)},success:function(e){i(e=""==e?" ":e)}})):"loading"==o.status&&i(o.cacheddata)},expandit:function(a,n,o,i,c,e,s){var t=a.data("ajaxinfo");t&&("none"==t.status||"loading"==t.status?this.ajaxloadcontent(a,n,o,function(){ddaccordion.expandit(a,n,o,i,c)}):"cached"==t.status&&(n.html(t.cacheddata),t.cacheddata=null,t.status="complete")),this.transformHeader(a,o,"expand"),n.slideDown(e?0:o.animatespeed,function(){if(o.onopenclose(a.get(0),parseInt(a.attr("headerindex")),n.css("display"),i),s){var e=o.collapseprev?20:0;clearTimeout(o.sthtimer),o.sthtimer=setTimeout(function(){ddaccordion.scrollToHeader(a)},e)}if("gotourl"==o.postreveal&&c){var t=a.is("a")?a.get(0):a.find("a:eq(0)").get(0);t&&setTimeout(function(){location=t.href},200+(s?400+e:0))}})},scrollToHeader:function(e){ddaccordion.$docbody.stop().animate({scrollTop:e.offset().top},400)},collapseit:function(e,t,a,n){this.transformHeader(e,a,"collapse"),t.slideUp(a.animatespeed,function(){a.onopenclose(e.get(0),parseInt(e.attr("headerindex")),t.css("display"),n)})},transformHeader:function(e,t,a){e.addClass("expand"==a?t.cssclass.expand:t.cssclass.collapse).removeClass("expand"==a?t.cssclass.collapse:t.cssclass.expand),"src"==t.htmlsetting.location?(e=e.is("img")?e:e.find("img").eq(0)).attr("src","expand"==a?t.htmlsetting.expand:t.htmlsetting.collapse):"prefix"==t.htmlsetting.location?e.find(".accordprefix").html("expand"==a?t.htmlsetting.expand:t.htmlsetting.collapse):"suffix"==t.htmlsetting.location&&e.find(".accordsuffix").html("expand"==a?t.htmlsetting.expand:t.htmlsetting.collapse)},urlparamselect:function(e){var t=window.location.search.match(new RegExp(e+"=((\\d+)(,(\\d+))*)","i"));return null!=t&&(t=RegExp.$1.split(",")),t},getCookie:function(e){var t=new RegExp(e+"=[^;]+","i");return document.cookie.match(t)?document.cookie.match(t)[0].split("=")[1]:null},setCookie:function(e,t){document.cookie=e+"="+t+"; path=/"},init:function(r){document.write('<style type="text/css">\n'),document.write("."+r.contentclass+"{display: none}\n"),document.write("a.hiddenajaxlink{display: none}\n"),document.write("</style>"),jQuery(document).ready(function(i){ddaccordion.urlparamselect(r.headerclass);var e=ddaccordion.getCookie(r.headerclass);ddaccordion.headergroup[r.headerclass]=i("."+r.headerclass),ddaccordion.contentgroup[r.headerclass]=i("."+r.contentclass),ddaccordion.$docbody=window.opera?"CSS1Compat"==document.compatMode?jQuery("html"):jQuery("body"):jQuery("html,body");var a=ddaccordion.headergroup[r.headerclass],c=ddaccordion.contentgroup[r.headerclass];r.cssclass={collapse:r.toggleclass[0],expand:r.toggleclass[1]},r.revealtype=r.revealtype||"click",r.revealtype=r.revealtype.replace(/mouseover/i,"mouseenter"),"clickgo"==r.revealtype&&(r.postreveal="gotourl",r.revealtype="click"),void 0===r.togglehtml?r.htmlsetting={location:"none"}:r.htmlsetting={location:r.togglehtml[0],collapse:r.togglehtml[1],expand:r.togglehtml[2]},r.oninit=void 0===r.oninit?function(){}:r.oninit,r.onopenclose=void 0===r.onopenclose?function(){}:r.onopenclose;var s={},d=ddaccordion.urlparamselect(r.headerclass)||(r.persiststate&&null!=e?e:r.defaultexpanded);"string"==typeof d&&(d=d.replace(/c/gi,"").split(",")),1==d.length&&"-1"==d[0]&&(d=[]),r.collapseprev&&1<d.length&&(d=[d.pop()]),r.onemustopen&&0==d.length&&(d=[0]),a.each(function(e){var t=i(this);/(prefix)|(suffix)/i.test(r.htmlsetting.location)&&""!=t.html()&&(i('<span class="accordprefix"></span>').prependTo(this),i('<span class="accordsuffix"></span>').appendTo(this)),t.attr("headerindex",e+"h"),c.eq(e).attr("contentindex",e+"c");var a=c.eq(e),n=a.find("a.hiddenajaxlink:eq(0)");1==n.length&&t.data("ajaxinfo",{url:n.attr("href"),cacheddata:null,status:"none"});var o="number"==typeof d[0]?e:e+"";-1!=jQuery.inArray(o,d)?(ddaccordion.expandit(t,a,r,!1,!1,!r.animatedefault),s={$header:t,$content:a}):(a.hide(),r.onopenclose(t.get(0),parseInt(t.attr("headerindex")),a.css("display"),!1),ddaccordion.transformHeader(t,r,"collapse"))}),a.bind("evt_accordion",function(e,t,a){var n=c.eq(parseInt(i(this).attr("headerindex")));"none"==n.css("display")?(ddaccordion.expandit(i(this),n,r,!0,t,!1,a),r.collapseprev&&s.$header&&i(this).get(0)!=s.$header.get(0)&&ddaccordion.collapseit(s.$header,s.$content,r,!0),s={$header:i(this),$content:n}):(!r.onemustopen||r.onemustopen&&s.$header&&i(this).get(0)!=s.$header.get(0))&&ddaccordion.collapseit(i(this),n,r,!0)}),a.bind(r.revealtype,function(){if("mouseenter"!=r.revealtype)return i(this).trigger("evt_accordion",[!0,r.scrolltoheader]),!1;clearTimeout(r.revealdelay);var e=parseInt(i(this).attr("headerindex"));r.revealdelay=setTimeout(function(){ddaccordion.expandone(r.headerclass,e,r.scrolltoheader)},r.mouseoverdelay||0)}),a.bind("mouseleave",function(){clearTimeout(r.revealdelay)}),r.oninit(a.get(),d),i(window).bind("unload",function(){a.unbind();var t=[];c.filter(":visible").each(function(e){t.push(i(this).attr("contentindex"))}),1==r.persiststate&&0<a.length&&(t=0==t.length?"-1c":t,ddaccordion.setCookie(r.headerclass,t))})})}};ddaccordion.preloadimages(jQuery(ddaccordion.ajaxloadingmsg).filter("img"));